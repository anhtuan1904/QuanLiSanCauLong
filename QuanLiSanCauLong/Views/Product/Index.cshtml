@model QuanLiSanCauLong.ViewModels.ProductListViewModel
@{
    ViewData["Title"] = "Cửa hàng thể thao";
}

<style>
    :root {
        --p-purple: #6c33f2;
        --p-bg: #f8fafc;
    }

    .hero-shop {
        background: var(--p-purple);
        padding: 50px 0;
        border-radius: 0 0 50px 50px;
        color: white;
        margin-bottom: 40px;
    }

    .nav-pills .nav-link {
        color: #64748b;
        background: white;
        border-radius: 12px;
        font-weight: 600;
        padding: 10px 25px;
        border: 1px solid #e2e8f0;
        transition: 0.3s;
    }

        .nav-pills .nav-link.active {
            background: var(--p-purple);
            color: white;
            border-color: var(--p-purple);
        }

    .search-shop {
        border-radius: 15px;
        padding: 12px 20px;
        border: 2px solid transparent;
        background: #f1f5f9;
    }

        .search-shop:focus {
            border-color: var(--p-purple);
            box-shadow: none;
            background: white;
        }
</style>

<div class="hero-shop text-center position-relative overflow-hidden">
    <div class="container position-relative" style="z-index: 2;">
        <h2 class="fw-extrabold display-5">Cửa Hàng Thể Thao</h2>
        <p class="opacity-75">Dụng cụ chuyên nghiệp - Năng lượng bứt phá</p>
    </div>
    <div class="position-absolute bottom-0 start-50 translate-middle-x d-flex gap-2" style="margin-bottom: -5px;">
        <div style="width: 30px; height: 40px; background: #ff7a50; border-radius: 10px 10px 0 0;"></div>
        <div style="width: 35px; height: 60px; background: #20c997; border-radius: 12px 12px 0 0;"></div>
    </div>
</div>

<div class="container">
    <div class="row mb-5 justify-content-center">
        <div class="col-md-8 text-center">
            <form asp-action="Index" method="get" class="d-flex gap-2">
                <input type="text" name="search" class="form-control search-shop" placeholder="Tìm vợt, giày, nước uống..." value="@Model.SearchKeyword">
                <button class="btn btn-primary px-4 rounded-4" type="submit"><i class="bi bi-search"></i></button>
            </form>
        </div>
    </div>

    <ul class="nav nav-pills justify-content-center mb-5 gap-3" id="productMenuTab">
        <li class="nav-item">
            <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#all-products">Tất cả</button>
        </li>
        @foreach (var cat in Model.Categories)
        {
            <li class="nav-item">
                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#cat-@cat.CategoryId">@cat.CategoryName</button>
            </li>
        }
    </ul>

    <div class="tab-content">
        <div class="tab-pane fade show active" id="all-products">
            @foreach (var catGroup in Model.Categories)
            {
                <div class="d-flex align-items-center mb-4 mt-5">
                    <h4 class="fw-bold mb-0 me-3">@catGroup.CategoryName</h4>
                    <div class="flex-grow-1 border-bottom"></div>
                </div>
                <div class="row g-4">
                    @foreach (var product in catGroup.Products)
                    {
                        @await Html.PartialAsync("_ProductCard", product)
                    }
                </div>
            }
        </div>

        @foreach (var catGroup in Model.Categories)
        {
            <div class="tab-pane fade" id="cat-@catGroup.CategoryId">
                <div class="row g-4 mt-2">
                    @foreach (var product in catGroup.Products)
                    {
                        @await Html.PartialAsync("_ProductCard", product)
                    }
                </div>
            </div>
        }
    </div>
</div>